@using EBookStore.Models.Enums
@using Microsoft.AspNetCore.Identity
@model EBookStore.Models.Book

@{
	ViewData["Title"] = "Book Details";
}

<div class="container mt-4">
	<div class="row">
		<div class="col-md-4">
			<img src="@(Model.Image ?? "/images/NoImage.png")" class="img-fluid rounded shadow-sm" style="width:80%;height:400px"
				 alt="@((Model.Title) ?? "No Image Available")" />
		</div>

		<div class="col-md-8">
			<div class="card p-3 shadow-sm">
				<dl class="row">
					<dd class="col-sm-12"><h3 class="fw-bold">@Html.DisplayFor(model => model.Title)</h3></dd>
					<hr />
					<dt class="col-sm-2">@Html.DisplayNameFor(model => model.Author):</dt>
					<dd class="col-sm-2">@($"{Model.Author.FirstName} {Model.Author.LastName}")</dd>
					<dt class="col-sm-2">@Html.DisplayNameFor(model => model.Category):</dt>
					<dd class="col-sm-2">@Html.DisplayFor(model => model.Category.Name)</dd>
					<dt class="col-sm-2">@Html.DisplayNameFor(model => model.Publisher):</dt>
					<dd class="col-sm-2">@Html.DisplayFor(model => model.Publisher.Name)</dd>
					<dt class="col-sm-4 my-3 ">@Html.DisplayNameFor(model => model.ISBN):</dt>
					<dd class="col-sm-8 my-3 fw-bold">@Html.DisplayFor(model => model.ISBN)</dd>
					<dt class="col-sm-4 my-3 ">@Html.DisplayNameFor(model => model.Price):</dt>
					<dd class="col-sm-8 my-3 fw-bold">@Html.DisplayFor(model => model.Price)</dd>
					<dt class="col-sm-4">@Html.DisplayNameFor(model => model.Description):</dt>
					<dd class="col-sm-8">@Html.DisplayFor(model => model.Description)</dd>

					@if (User.IsInRole(Roles.Admin.ToString()))
					{
						<dt class="col-sm-4">@Html.DisplayNameFor(model => model.Stock):</dt>
						<dd class="col-sm-8">@Html.DisplayFor(model => model.Stock)</dd>
						<dt class="col-sm-4">@Html.DisplayNameFor(model => model.CreatedDate)</dt>
						<dd class="col-sm-8">@Html.DisplayFor(model => model.CreatedDate)</dd>

						<dt class="col-sm-4">@Html.DisplayNameFor(model => model.UpdatedDate)</dt>
						<dd class="col-sm-8">@Html.DisplayFor(model => model.UpdatedDate)</dd>

						<dt class="col-sm-4">@Html.DisplayNameFor(model => model.DeletedDate)</dt>
						<dd class="col-sm-8">@Html.DisplayFor(model => model.DeletedDate)</dd>
					}
				</dl>

				<div class="my-3">
					<button type="button" onclick="addBook(@Model.Id)" class="btn btn-success">Add to Cart</button> 
					@if (User.IsInRole(Roles.Admin.ToString()))
					{
							<a asp-action = "Index" class="btn btn-info mx-2">Back to List</a>
					}
					
				</div>
			</div>
		</div>
	</div>
</div>